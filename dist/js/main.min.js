const body=document.querySelector("body"),html=document.querySelector("html"),menu=document.querySelectorAll(".header__burger, .header__nav, body"),burger=document.querySelector(".header__burger"),header=document.querySelector(".header");let windowSize,classicalySlider,reasonsSlider,awardsSlider,footerSlider;function resize(){windowSize=window.innerWidth,html.style.setProperty("--height-screen",window.innerHeight+"px"),html.style.setProperty("--height-header",header.offsetHeight+"px")}body.addEventListener("click",(function(e){function t(t){return e.target.closest(t)}t(".header__burger")&&menu.forEach(e=>{e.classList.toggle("_active")});let a=t(".btn-to-scroll");if(a){let t;e.preventDefault(),t=document.querySelector(a.getAttribute("href")),menu.forEach(e=>{e.classList.remove("_active")}),bodyScrollBar.scrollTo(0,t.offsetTop,t.offsetTop/1.5)}})),resize(),window.onresize=resize,window.onscroll=function(){html.style.setProperty("--height-screen",window.innerHeight+"px")},document.querySelectorAll(".classicaly__slider").length&&(classicalySlider=new Swiper(".classicaly__slider",{spaceBetween:0,slidesPerView:"auto",centeredSlides:!0,loop:!0,speed:500,navigation:{nextEl:".classicaly__nav--arrow.swiper-button-next",prevEl:".classicaly__nav--arrow.swiper-button-prev"},breakpoints:{600:{speed:1500}}})),document.querySelectorAll(".reasons__slider").length&&(reasonsSlider=new Swiper(".reasons__slider",{spaceBetween:0,slidesPerView:"auto",centeredSlides:!1,speed:1e3,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{600:{speed:2e3}}})),document.querySelectorAll(".awards__slider").length&&(awardsSlider=new Swiper(".awards__slider",{spaceBetween:30,slidesPerView:"auto",centeredSlides:!1,speed:1e3,navigation:{nextEl:".awards__nav--arrow.swiper-button-next",prevEl:".awards__nav--arrow.swiper-button-prev"},breakpoints:{600:{speed:2e3}}})),document.querySelectorAll(".footer__slider").length&&(footerSlider=new Swiper(".footer__slider",{spaceBetween:15,slidesPerView:"auto",speed:500,breakpoints:{490:{spaceBetween:37}}}));const storeysItem=document.querySelectorAll(".storeys__item");storeysItem.forEach(e=>{const t=e.querySelector(".storeys__item--body").cloneNode(!0);e.append(t),t.classList.add("_clone"),t.insertAdjacentHTML("afterbegin",`\n\t<div class="storeys__item--bg">\n\t\t<picture>\n\t\t\t<source srcset="${e.dataset.webpImage}" type="image/webp">\n\t\t\t<img src="${e.dataset.image}" alt="" width="0" height="0" loading="lazy">\n\t\t</picture>\n\t</div>\n\t`),delete e.dataset.webpImage,delete e.dataset.image});var scrollPositionX=0,scrollPositionY=0;gsap.registerPlugin(ScrollTrigger),gsap.registerPlugin(TimelineMax);let tl=gsap.timeline();const animSection=document.querySelectorAll(".anim-section");let animSectionArray=[];function sortByIndex(e){return windowSize<980?e.sort((e,t)=>e.mobIndex>t.mobIndex?1:-1):e.sort((e,t)=>e.index>t.index?1:-1)}function animScroll(){Array.from(animSectionArray).forEach((e,t)=>{const a=e[0],r=Number(e[0].dataset.offset)?Number(e[0].dataset.offset):0;elementCoords=a.getBoundingClientRect(),window.innerHeight/1.5-r>elementCoords.top&&!a.classList.contains("_animated")&&(a.classList.add("_animated"),e[1].play())})}animSection.forEach(e=>{const t=e.querySelectorAll(".anim-element");let a=[];t.forEach(e=>{const t=Number(e.dataset.index),r=Number(e.dataset.mobIndex)?Number(e.dataset.mobIndex):t;a.push({element:e,index:t,mobIndex:r})}),a=sortByIndex(a);let r=new TimelineMax;r.pause(),Array.from(a).forEach((e,t)=>{const a=Number(e.element.dataset.duration)?Number(e.element.dataset.duration):.5,n=Number(e.element.dataset.delay)?Number(e.element.dataset.delay):0,o=Number(e.element.dataset.stagger)?Number(e.element.dataset.stagger):.05,s="true"==e.element.dataset.childrensReverse;e.element.classList.contains("anim-text")?r.to(e.element,{duration:a,delay:n,onStart:function(){gsap.to(e.element.querySelectorAll(".anim-text-line > span"),{y:0,startAt:{y:"100%"},ease:"power2.out",duration:a,stagger:o})}},0!=t&&"-=1"):e.element.classList.contains("anim-fade-in")?r.to(e.element,{opacity:1,duration:a,delay:n},0!=t&&"-=1"):e.element.classList.contains("anim-fade-up")?r.to(e.element,{opacity:1,transform:"translate3d(0,0,0)",startAt:{transform:"translate3d(0,25px,0)"},duration:a,delay:n,onStart:function(){e.element.classList.add("_animated")}},0!=t&&"-=1"):e.element.classList.contains("anim-zoom-bottom")?r.to(e.element,{opacity:1,y:0,scale:1,startAt:{y:-100,scale:.9},duration:a,delay:n},0!=t&&"-=1"):e.element.classList.contains("anim-fade-right")?r.to(e.element,{opacity:1,transform:"translate3d(0,0,0)",startAt:{transform:"translate3d(-100px,0,0)"},duration:a,delay:n},0!=t&&"-=1"):e.element.classList.contains("anim-fade-left")?r.to(e.element,{opacity:1,transform:"translate3d(0,0,0)",startAt:{transform:"translate3d(100px,0,0)"},duration:a,delay:n},0!=t&&"-=1"):e.element.classList.contains("anim-zoom-out")?r.to(e.element,{opacity:1,transform:"scale3d(1,1,1)",startAt:{transform:"scale3d(1.1,1.1,1)",opacity:0},duration:a,ease:"power2.out",delay:n},0!=t&&"-=1"):e.element.classList.contains("anim-childrens-fade-right")?r.to(e.element,{opacity:1,duration:a,delay:n,onStart:function(){let t=Array.from(e.element.children);s&&(t=t.reverse()),gsap.to(t,{transform:"translate3d(0,0,0)",opacity:1,startAt:{transform:"translate3d(-20px,0,0)",opacity:0},duration:a,stagger:o})}},0!=t&&"-=1"):e.element.classList.contains("anim-fade-progress-right")?r.to(e.element,{opacity:1,maskImage:"linear-gradient(90deg, rgba(72,172,240,1) 100%, transparent 105%)",startAt:{maskImage:"linear-gradient(90deg, rgba(72,172,240,1) -5%, transparent 0%)"},duration:a,delay:n},0!=t&&"-=1"):e.element.classList.contains("anim-childrens-fade-left")?r.to(e.element,{opacity:1,duration:a,delay:n,onStart:function(){let t=Array.from(e.element.children);s&&(t=t.reverse()),gsap.to(t,{transform:"translate3d(0,0,0)",opacity:1,startAt:{transform:"translate3d(20px,0,0)",opacity:0},duration:a,stagger:o})}},0!=t&&"-=1"):e.element.classList.contains("anim-zoom-in")?r.to(e.element,{opacity:1,transform:"scale3d(1,1,1)",startAt:{transform:"scale3d(0.7,0.7,1)"},duration:a,delay:n},0!=t&&"-=1"):e.element.classList.contains("anim-clip-down")&&r.to(e.element,{opacity:1,clipPath:"polygon(0 0, 100% 0, 100% 100%, 0 100%)",startAt:{clipPath:"polygon(0 0, 100% 0, 100% 0%, 0 0%)",opacity:1},ease:"power2.out",duration:a,delay:n},0!=t&&"-=1")}),e.style.opacity=1,animSectionArray.push([e,r])});const scrollImages=document.querySelectorAll(".anim-scroll-image");function smoothScrollbarInit(){var e=document.getElementById("main-scrollbar");bodyScrollBar=Scrollbar.init(e,{damping:.05,delegateTo:document}),bodyScrollBar.addListener(({offset:e})=>{scrollPositionX=e.x,scrollPositionY=e.y,scrollImages.forEach(t=>{if("to-bottom"==t.dataset.pos)document.querySelector(t.dataset.anchor).offsetTop>scrollPositionY-window.innerHeight&&(t.style.transform=`translate3d(0,${e.y/7}px,0)`);else if("to-top"==t.dataset.pos);else if(document.querySelector(t.dataset.anchor).offsetTop>scrollPositionY-window.innerHeight/2){let a=(document.querySelector(t.dataset.anchor).offsetTop-e.y)/30;a>=25?a=25:a<=-25&&(a=-25),t.style.transform=`translate3d(0,${a}px,0)`}}),animScroll()})}animScroll(),smoothScrollbarInit(),bodyScrollBar.setPosition(0,0),bodyScrollBar.track.xAxis.element.remove();